<h1>Solutions for <%= link_to "#{truncate(@problem.to_s, length: 30)}", @problem %></h1>

<% if @solutions.current_page == 1 %>
  <% if @followed_solutions %>
    <h2 style="margin-top: 1.5em">People You Follow</h2>

    <div class="solutions">
      <% if @followed_solutions.any? %>
        <% @followed_solutions.each do |solution| %>
          <div class="solution">
            <%= render solution %>
          </div>
        <% end -%>
      <% else %>
        <p>None of the people you follow have solved this problem.</p>
      <% end -%>
    </div>
  <% end -%>

  <hr/>
  <h2>Solutions</h2>
<% end %>

<div class="solutions">
  <% @solutions.each do |solution| %>

    <div class="solution">
      <%= render solution %>
    </div>

  <% end -%>

  <%= paginate @solutions %>
</div>
<div class="clear"></div>

<% if solution = Solution.where(user_id: current_user.id, problem_id: @problem.id).first %>
  <hr/>
  <div class="solution" id="your-solution">
    <%= render solution, title: "Your Solution" %>
  </div>
<% end -%>

<br/>

<%= link_to "Back to Problem", problem_path(@problem) %>
